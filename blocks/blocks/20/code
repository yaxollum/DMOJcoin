#include <stack>
#include <cstdio>
#include <list>

using namespace std;

typedef stack<int,list<int>> int_stack;

int main()
{
    int tests;
    scanf("%d",&tests);

    for (int looploop=0;looploop<tests;++looploop)
    {
        int current=1;
        int_stack branch;
        int_stack cars;

        int n;
        scanf("%d",&n);

        int temp;

        for(int loop=0;loop<n;++loop)
        {
            scanf("%d",&temp);
            cars.push(temp);
        }

        for(int loop=0;loop<n;++loop)
        {
            temp=cars.top();
            cars.pop();

            if (temp==current)
            {
                ++current;
                //printf("%d to lake\n",temp);
            }
            else
            {
                int branch_top=branch.top();
                while (branch_top==current)
                {
                    branch.pop();
                    //printf("%d from branch to lake\n",branch_top);
                    branch_top=branch.top();
                    ++current;
                }

                branch.push(temp);
                //printf("%d into branch\n",temp);
            }
        }

        int branch_top=branch.top();
        while (branch_top==current)
        {
            branch.pop();
            //printf("%d from branch to lake\n",branch_top);
            branch_top=branch.top();
            ++current;
        }

        if(branch.empty()) printf("Y\n");
        else printf("N\n");
    }
    return 0;
}