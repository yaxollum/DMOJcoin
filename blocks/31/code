#include <stdio.h>
#include <algorithm>

#define LSZ 100005
#define SSZ 400

using namespace std;

int mem1[LSZ];
int mem2[LSZ];
int small_dat[SSZ];

int main()
{
    int n;
    scanf("%d",&n);

    int *dat=mem1,*buffer=mem2;

    int ln=0,sn=0,temp;
    long long res=0;
    for(int i=0;i<n;++i)
    {
        scanf("%d",&temp);
        if(sn==SSZ)
        {
            sort(small_dat,small_dat+sn);
            merge(dat,dat+ln,small_dat,small_dat+sn,buffer);
            swap(buffer,dat);
            ln+=sn;
            sn=0;
        }

        small_dat[sn]=temp;

        ++res;
        res+=(dat+ln)-upper_bound(dat,dat+ln,temp);

        for(int j=0;j<sn;++j)
        {
            if(small_dat[j]>temp) ++res;
        }
        ++sn;
    }

    int mag=res*100/n;
    printf("%d.%d\n",mag/100,mag%100);
}